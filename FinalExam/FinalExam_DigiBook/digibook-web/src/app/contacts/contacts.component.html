<p-breadcrumb [model]="contactItems"></p-breadcrumb>
<p-growl [value]="msgs" sticky="sticky"></p-growl>
<form [formGroup]="userform">
    <p-panel header="Contact List">
        <button pButton icon="fa fa-plus" (click)="addContacts(); showDialog();" label="Contacts"></button>
        <div class="searchHeader" style="float:right">
            <input type="text" pInputText placeholder="Search Contacts" [(ngModel)]="searchFilter" [ngModelOptions]="{standalone: true}"
            />
            <button pButton type="button" icon="fa-search" (click)="searchContact()"></button>
        </div>
        <p-dataTable #dt [value]="contactList" selectionMode="single" [pageLinks]="5" [(selection)]="selectedContact" [totalRecords]="totalRecords"
            (onLazyLoad)="paginate($event)" [lazy]="true" [paginator]="true" rows="10" [responsive]="true" [globalFilter]="gb">
            <p-column styleClass="col-button">
                <ng-template let-Contact="rowData" pTemplate="body">
                    <button type="button" pButton class="ui-button-success" (click)="editContacts(Contact); showDialog();" icon="fa-pencil"></button>
                    <button type="button" pButton class="ui-button-danger" (click)="deleteConfirmation(Contact); showDialog();" icon="fa-trash-o">
                    </button>
                </ng-template>
            </p-column>
            <p-column field="firstName" header="First Name" [sortable]="true"></p-column>
            <p-column field="lastName" header="Last Name" [sortable]="true"></p-column>
            <p-column field="mobilePhone" header="Mobile Phone" [sortable]="true"></p-column>
            <p-column field="streetAddress" header="Street Address" [sortable]="true"></p-column>
            <p-column field="cityAddress" header="City Address" [sortable]="true"></p-column>
            <p-column field="zipCode" header="Zip Code" [sortable]="true"></p-column>
            <p-column field="emailAddress" header="Email Address" [sortable]="true"></p-column>
            <p-column field="isActive" header="Is Active" [sortable]="true"></p-column>
        </p-dataTable>
    </p-panel>
    <p-dialog header="Contact Details" [(visible)]="display" *ngIf="selectedContact" modal="modal" width="500" [responsive]="true">
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">First Name: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="firstName" placeholder="Enter First Name" [(ngModel)]="selectedContact.firstName"
                id="firstName">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['firstName'].valid&&userform.controls['firstName'].dirty">
                <i class="fa fa-close"></i>
                First Name is required
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Last Name: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="lastName" placeholder="Enter Last Name" [(ngModel)]="selectedContact.lastName"
                id="lastName">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['lastName'].valid&&userform.controls['lastName'].dirty">
                <i class="fa fa-close"></i>
                Last Name is required
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Mobile Phone: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="mobilePhone" placeholder="Enter Mobile Phone" [(ngModel)]="selectedContact.mobilePhone"
                id="mobilePhone">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['mobilePhone'].valid&&userform.controls['mobilePhone'].dirty">
                <i class="fa fa-close"></i>
                <span *ngIf="userform.controls['mobilePhone'].errors['required']">Zip Code is required</span>
                <span *ngIf="userform.controls['mobilePhone'].errors['pattern']">Must be a number</span>
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Street Address: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="streetAddress" placeholder="Enter Street Address" [(ngModel)]="selectedContact.streetAddress"
                id="streetAddress">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['streetAddress'].valid&&userform.controls['streetAddress'].dirty">
                <i class="fa fa-close"></i>
                Street is required
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">City Address: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="cityAddress" placeholder="Enter City Address" [(ngModel)]="selectedContact.cityAddress"
                id="cityAddress">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['cityAddress'].valid&&userform.controls['cityAddress'].dirty">
                <i class="fa fa-close"></i>
                City is required
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Zip Code: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="zipCode" placeholder="Enter Zip Code" [(ngModel)]="selectedContact.zipCode"
                id="zipCode">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['zipCode'].valid&&userform.controls['zipCode'].dirty">
                <i class="fa fa-close"></i>
                <span *ngIf="userform.controls['zipCode'].errors['required']">Zip Code is required</span>
                <span *ngIf="userform.controls['zipCode'].errors['pattern']">Must be a number</span>
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Country: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="country" placeholder="Enter Country" [(ngModel)]="selectedContact.country"
                id="country">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['country'].valid&&userform.controls['country'].dirty">
                <i class="fa fa-close"></i>
                Country is required
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Email Address: </label>
            <input class="ui-g-12 ui-md-8" type="text" formControlName="email" placeholder="Enter Email Address" [(ngModel)]="selectedContact.emailAddress"
                id="emailAddress">
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['email'].valid&&userform.controls['email'].dirty">
                <i class="fa fa-close"></i>
                <span *ngIf="userform.controls['email'].errors['required']">Email is required</span>
                <span *ngIf="userform.controls['email'].errors['pattern']">Must be a valid email</span>
            </div>
        </div>
        <br/>
        <div class="ui-g">
            <label class="ui-g-12 ui-md-4" for="Contact">Is Active: </label>
            <p-inputSwitch onLabel="True" class="ui-g-12 ui-md-8" formControlName="isActive" offLabel="False" [(ngModel)]="selectedContact.isActive"
                id="isActive"></p-inputSwitch>
            <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['isActive'].valid&&userform.controls['isActive'].dirty">
                <i class="fa fa-close"></i>
                isActive is required
            </div>
        </div>
        <br/>
        <p-footer>
            <div>

                <button pButton icon="fa fa-plus-square" (click)="saveNewContacts()" label="Save & New" [disabled]="!userform.valid" *ngIf="btnSaveNew"></button>

                <button pButton icon="fa fa-floppy-o" (click)="saveContacts()" label="Save" [disabled]="!userform.valid" *ngIf="btnSave"
                    id="btnSave"></button>

                <button pButton icon="fa fa-floppy-o" (click)="deleteContacts()" label="Delete" *ngIf="btnDelete"></button>

                <button pButton icon="fa fa-ban" (click)="cancelContacts()" label="Cancel"></button>
            </div>
        </p-footer>
    </p-dialog>
</form>
<p-growl [value]="msgs" life="2000"></p-growl>
<p-confirmDialog></p-confirmDialog>